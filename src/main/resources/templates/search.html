<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>검색 결과 | BizBeacon for Boss</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link th:href="@{/css/style.css}" rel="stylesheet">
    <!-- 내부 CSS -->
    <style>
        .restaurant-card {
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 1rem;
            text-align: center;
            transition: box-shadow 0.2s ease;
        }
        .restaurant-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>

<!-- Header -->
<!--<div th:replace="partials/header :: *"></div>-->

<main class="container my-5">

<!--
    [검색 결과 페이지 흐름]

    1. 사용자가 검색창에 메뉴명을 입력 후 제출
       → GET /search?menu=값&page=n 요청

    2. 백엔드에서:
       - 로그인한 사용자의 address(User.address) 기반으로 Restaurant 테이블 조회
       - menu LIKE 검색 조건 + address 필터 적용
       - 페이징 처리하여 결과 반환

    3. 화면 출력:
       - 검색 키워드를 제목에 표시
       - 검색된 식당 리스트를 카드 형태로 반복 렌더링

    4. 카드 클릭:
       - 해당 식당 상세 페이지(/restaurant-detail/{id})로 이동
-->

    <!-- 검색 결과 리스트 -->
    <div class="row g-4">
        <!-- 반복 렌더링 -->
        <div class="col-md-3" th:each="restaurant : ${restaurants}">
            <a th:href="@{'/restaurant-detail/' + ${restaurant.id}}" class="text-decoration-none text-dark">
                <div class="restaurant-card">
                    <div class="mb-2" style="height:150px; background:#f1f3f5;">
                        <!-- 이미지 자리 -->
                        <span>사진</span>
                    </div>
                    <h5 th:text="${restaurant.name}">한집 돼지국밥</h5>
                    <p th:text="${restaurant.menuName}">돼지국밥</p>
                    <p th:text="${#numbers.formatInteger(restaurant.price, 0)} + '원'">11,000원</p>
                    <small>조회수 <span th:text="${restaurant.viewCount}">15</span></small>
                </div>
            </a>
        </div>
    </div>

    <!-- 페이지네이션 -->
    <div class="d-flex justify-content-center my-4">
        <nav>
            <ul class="pagination">
                <li class="page-item disabled"><a class="page-link">&lt;</a></li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link">&gt;</a></li>
            </ul>
        </nav>
    </div>
</main>

<!-- Footer -->
<!--<div th:replace="partials/footer :: *"></div>-->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
